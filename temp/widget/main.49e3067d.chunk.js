(this.webpackJsonpclientbroker=this.webpackJsonpclientbroker||[]).push([[0],{282:function(e,t,n){},394:function(e,t){},396:function(e,t){},408:function(e,t){},410:function(e,t){},438:function(e,t){},440:function(e,t){},441:function(e,t){},446:function(e,t){},448:function(e,t){},467:function(e,t){},479:function(e,t){},482:function(e,t){},506:function(e,t,n){"use strict";n.r(t);var c,r,s=n(0),a=n.n(s),i=n(31),o=n.n(i),l=(n(282),n(23)),d=n.n(l),j=n(63),b=n(21),h=n(39),x=n(22),u=n(100),p=n(513),O=n(510),f=n(514),m=n(515),y=n(273),g=(n(101),n(3)),S=p.a.Item,v=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(b.a)(r,2),i=a[0],o=a[1],l=Object(s.useState)(""),j=Object(b.a)(l,2),x=j[0],u=j[1],v=Object(s.useState)("0"),A=Object(b.a)(v,2),T=A[0],C=A[1],w=Object(s.useState)("0"),D=Object(b.a)(w,2),N=D[0],L=D[1],M=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Table:" security ",Column:" securityid ",Where:" securityid like '%.zw'"},n=JSON.stringify(t),e.next=4,fetch("http://localhost:3001/api/sql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n}).catch((function(e){console.error(e.headers)}));case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,c(s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){M()}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(O.a,{type:"flex",justify:"center",className:"px-3 bg-white mh-page",children:[Object(g.jsxs)(p.a,{name:"basic",labelCol:{span:10},wrapperCol:{span:16},children:[Object(g.jsx)(S,{label:"Stock Symbol",children:Object(g.jsx)(f.a,{name:"CounterDropDown",id:"CounterDropDown",style:{width:"80%"},children:n.map((function(e){return Object(g.jsx)(f.a.Option,{value:e.securityid,children:e.securityid},e.securityid)}))})}),Object(g.jsx)(S,{label:"Transaction",children:Object(g.jsxs)(f.a,{name:"transactionTypeDropDown",id:"transactionTypeDropDown",style:{width:"80%"},onChange:function(e){u(e)},children:[Object(g.jsx)(f.a.Option,{value:"Buy",children:"Buy"},"Buy"),Object(g.jsx)(f.a.Option,{value:"Sell",children:"Sell"},"Sell")]})}),Object(g.jsx)(S,{label:"Quantity",children:Object(g.jsx)(m.a,{onChange:function(e){return L(e.target.value)},value:N,name:"quantityTextbox",type:"number",maxLength:"6",id:"quantityTextbox"})}),Object(g.jsx)(S,{label:"Price",children:Object(g.jsxs)(f.a,{name:"priceDropDown",id:"priceDropDown",style:{width:"80%"},onChange:function(e){o(e)},children:[Object(g.jsx)(f.a.Option,{value:"Market",children:"Market"},"Market"),Object(g.jsx)(f.a.Option,{value:"Limit",children:"Limit"},"Limit")]})}),Object(g.jsx)(S,{label:"Limit",hidden:"Limit"!=i,children:Object(g.jsx)(m.a,{onChange:function(e){return C(e.target.value)},value:T,name:"limitPriceTextBox",type:"number",maxLength:"6",id:"limitPriceTextBox"})}),Object(g.jsx)("div",{className:"center previewbox",children:Object(g.jsx)(y.a,{type:"primary",children:"Process Order"})})]}),Object(g.jsxs)("div",{style:{marginLeft:"5%"},children:[Object(g.jsx)("span",{children:"Brokerage: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"ZSE Levy: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"CSD Levy: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"Security Levy: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"Ivestor Protection Levy: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"VAT: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"Stamp Duty: "}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"Witholding Tax: "}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[Object(g.jsx)("b",{children:"Total:"})," "]}),Object(g.jsx)("br",{})]}),Object(g.jsxs)("div",{style:{marginLeft:"5%"},children:[Object(g.jsxs)("span",{children:[" ZWL$ ",(Math.round(T*N*.0092*100)/100).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ",(Math.round(T*N*.001*100)/100).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ",(Math.round(T*N*.001*100)/100).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ",(Math.round(T*N*.0016*100)/100).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ",(Math.round(T*N*25e-5*100)/100).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ",(Math.round(T*N*.0092*.145*100)/100).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ","Buy"==x?(Math.round(T*N*.0025*100)/100).toFixed(2):Math.round(0).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:[" ZWL$ ","Sell"==x?(Math.round(T*N*1e-4*100)/100).toFixed(2):Math.round(0).toFixed(2)]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:Object(g.jsxs)("b",{children:["ZWL$ ","Buy"==x?(Math.round(100*(T*N*.01689075630252101+T*N))/100).toFixed(2):(Math.round(-100*(T*N*.0243839285714286-T*N))/100).toFixed(2)]})}),Object(g.jsx)("br",{})]})]}),Object(g.jsx)(O.a,{type:"flex",justify:"center",className:"px-3 bg-white mh-page"})]})},A=(n(188),p.a.Item,function(e){var t=e.profile,n=Object(s.useState)(),r=Object(b.a)(n,2),a=(r[0],r[1]);console.log(t);var i=function(){var e=Object(h.a)(d.a.mark((function e(){var n,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Table:" dbo.Statement INNER JOIN  dbo.idmsMst ON dbo.Statement.Client = dbo.idmsMst.Idx1 and dbo.Statement.userid = dbo.idmsMst.userid ",Column:" TOP 100 PERCENT Left(idmsmst.Idx31,17) as CSD,dbo.Statement.Client, dbo.Statement.ProcDate, dbo.Statement.seq, dbo.Statement.details, dbo.Statement.type, dbo.Statement.ref,  dbo.Statement.IndNo, dbo.idmsMst.Idx2, dbo.idmsMst.Idx31, dbo.idmsMst.Idx13, dbo.idmsMst.Idx32, dbo.Statement.[month],  ISNULL(dbo.Statement.Debit, ' ') AS Debit, ISNULL(dbo.Statement.credit, ' ') AS Credit  ",Where:" dbo.Statement.Userid = '"+t.code+"'  and dbo.Statement.client like '"+t.id+"'  ORDER BY dbo.Statement.Client, dbo.Statement.ProcDate desc, dbo.Statement.type "},r=JSON.stringify(n),e.next=4,fetch("http://localhost:3001/api/sql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:r}).catch((function(e){console.error(e.headers)}));case 4:return s=e.sent,e.next=7,s.json();case 7:i=e.sent,c=i,a(i),console.log(c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){i()}),[]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(O.a,{type:"flex",justify:"center",className:"px-3 bg-white mh-page",children:Object(g.jsx)("table",{className:"table table-striped",children:Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{textAlign:"left"},children:"Date"}),Object(g.jsx)("th",{style:{textAlign:"left"},children:"Reference"}),Object(g.jsx)("th",{style:{textAlign:"left"},children:"Description"}),Object(g.jsx)("th",{style:{textAlign:"right"},children:"Debit"}),Object(g.jsx)("th",{style:{textAlign:"right"},children:"Credit"})]}),c?c.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{style:{textAlign:"left"},children:e.ProcDate}),Object(g.jsx)("td",{style:{textAlign:"left"},children:e.ref}),Object(g.jsx)("td",{style:{textAlign:"left"},children:e.details}),Object(g.jsx)("td",{style:{textAlign:"right"},children:e.Debit}),Object(g.jsx)("td",{style:{textAlign:"right"},children:e.Credit})]})})):null]})})})})}),T=(p.a.Item,function(e){var t=e.profile,n=Object(s.useState)(),c=Object(b.a)(n,2),a=(c[0],c[1]),i=function(){var e=Object(h.a)(d.a.mark((function e(){var n,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Table:" newport ",Column:" *, ((NetAmount- Cost) / cost) * 100 as perc ",Where:" idx6 = '"+t.id+"' and cost > '1' and idx4 > '0' order by idx1 "},c=JSON.stringify(n),e.next=4,fetch("http://localhost:3001/api/sql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:c}).catch((function(e){console.error(e.headers)}));case 4:return s=e.sent,e.next=7,s.json();case 7:i=e.sent,r=i,a(i),console.log(r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){i()}),[]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(O.a,{type:"flex",justify:"center",className:"px-3 bg-white mh-page",children:Object(g.jsx)("table",{className:"table table-striped",children:Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{textAlign:"left"},children:"Security"}),Object(g.jsx)("th",{style:{textAlign:"left"},children:"CSD"}),Object(g.jsx)("th",{style:{textAlign:"right"},children:"No. of Shares"}),Object(g.jsx)("th",{style:{textAlign:"right"},children:"Cost"}),Object(g.jsx)("th",{style:{textAlign:"right"},children:"Current Value"}),Object(g.jsx)("th",{style:{textAlign:"right"},children:"% profit/Loss"})]}),r?r.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{style:{textAlign:"left"},children:e.Idx1}),Object(g.jsx)("td",{style:{textAlign:"left"},children:e.idx47}),Object(g.jsx)("td",{style:{textAlign:"right"},children:e.Idx4}),Object(g.jsx)("td",{style:{textAlign:"right"},children:e.Cost}),Object(g.jsx)("td",{style:{textAlign:"right"},children:e.NetAmount}),Object(g.jsx)("td",{style:{textAlign:"right"},children:e.perc})]})})):null]})})})})}),C=n(270),w=function(){var e=Object(s.useState)({}),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(b.a)(r,2),i=a[0],o=a[1],l=Object(s.useState)("African Sun"),j=Object(b.a)(l,2),x=j[0],u=j[1],p=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Table:" prices ",Column:" distinct(code) as code ",Where:" code <> '' and  CAST(date as date)  >= DATEADD(DD,-30,GETDATE()) order by code"},n=JSON.stringify(t),e.next=4,fetch("http://localhost:3001/api/sql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n}).catch((function(e){console.error(e.headers)}));case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,r.map((function(e){return{code:e.code}})),o(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,r,s,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Table:" prices ",Column:" code, convert(varchar(50), date, 103) as priceDate, Price,  (Select   cast(Avg(Cast(Price as decimal(38,2))) as varchar(50)) as Average from prices where company = '"+x+"' and  CAST(date as date)  >= DATEADD(DD,-30,GETDATE()) group by company) as Average ",Where:" company = '"+x+"' and  CAST(date as date)  >= DATEADD(DD,-30,GETDATE()) order by   indno"},n=JSON.stringify(t),e.next=4,fetch("http://localhost:3001/api/sql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n}).catch((function(e){console.error(e.headers)}));case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,a=[],i=[],s.map((function(e){return a.push(e.Price),{Price:e.Price}})),s.map((function(e){return i.push(e.priceDate),{priceDate:e.priceDate}})),console.log(x),c({labels:i,datasets:[{label:x+" Prices",data:a,borderColor:"green",backgroundColor:"green",borderwidth:4}]});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){p(),O()}),[x]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("select",{onChange:function(e){return u(e.target.value)},name:"clienttype",style:{display:"block",marginLeft:"20%"},children:i.map((function(e){return Object(g.jsx)("option",{value:e.code,children:e.code},e.code)}))}),Object(g.jsx)("div",{style:{width:"90%",height:"90%",margin:"5%"},children:Object(g.jsx)(C.a,{data:n,options:{responsive:!0,scales:{x:{ticks:{maxTicksLimit:10}}}}})})]})},D=n(511),N=n(512),L=n(275),M=n(99),P=n.n(M),I=n(268),k=n.n(I);function E(e){try{return k.a.verify(e,"This is a Random Key").payload}catch(t){return null}}var F=p.a.Item,W="";var B=function(){var e=W?E(W):"";function t(){return n.apply(this,arguments)}function n(){return(n=Object(h.a)(d.a.mark((function t(){var n,c,r,s,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),n={},n={email:M||""},n=Object(j.a)(Object(j.a)({},n),{},{password:J||""}),t.next=6,fetch("http://localhost:3001/api/clientauth",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).catch((function(e){console.error("Error:",e)}));case 6:return c=t.sent,t.next=9,c.json();case 9:return(r=t.sent).success?(W=r.token,L.b.success("Sign complete. Taking you to your dashboard!"),localStorage.setItem("signin","in"),e=W?E(W):"",P.a.set("auth",W,{expires:1/24/60*10})):L.b.error(r.error),f(!1),s={Table:" dbo.TotalStat INNER JOIN dbo.idmsMst ON dbo.TotalStat.Client = dbo.idmsMst.Idx1 ",Column:" dbo.TotalStat.Client,dbo.idmsMst.Idx2 as ClientName, SUM(cast(dbo.TotalStat.Total * -1 as decimal(38,2))) AS Expr1, dbo.idmsMst.Idx28, dbo.idmsMst.Idx13,getdate() as date ",Where:" dbo.totalstat.userid = '"+e.code+"' and dbo.totalstat.client like '"+e.id+"' GROUP BY dbo.TotalStat.Client,dbo.idmsMst.Idx2, dbo.idmsMst.Idx28 ,dbo.idmsMst.Idx13 "},a=JSON.stringify(s),t.next=16,fetch("http://localhost:3001/api/sql",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a}).catch((function(e){console.error(e.headers)}));case 16:return i=t.sent,t.next=19,i.json();case 19:(r=t.sent).length>0&&U(r[0].Expr1);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}console.log(e);var c=a.a.useState(0),r=Object(b.a)(c,2),i=(r[0],r[1],Object(s.useState)(!1)),o=Object(b.a)(i,2),l=o[0],f=o[1],S=Object(s.useState)(),C=Object(b.a)(S,2),M=C[0],I=C[1],k=Object(s.useState)(),B=Object(b.a)(k,2),J=B[0],Z=B[1],q=Object(s.useState)("0.00"),$=Object(b.a)(q,2),R=$[0],U=$[1];return Object(g.jsx)(g.Fragment,{children:e?Object(g.jsxs)(x.a,{children:[Object(g.jsx)(O.a,{type:"flex",justify:"center",className:"px-3 bg-white mh-page",children:Object(g.jsxs)("table",{style:{width:"40%"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{style:{width:"5%",textAlign:"right"},children:"Balance"}),Object(g.jsx)("th",{style:{width:"5%",textAlign:"right"},children:"Unsettled"}),Object(g.jsx)("th",{style:{width:"5%",textAlign:"right"},children:"Holdings"}),Object(g.jsx)("th",{style:{width:"5%",textAlign:"right"},children:"Available"})]}),Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{style:{width:"5%",textAlign:"right"},children:R}),Object(g.jsx)("td",{style:{width:"5%",textAlign:"right"},children:"0.00"}),Object(g.jsx)("td",{style:{width:"5%",textAlign:"right"},children:"0.00"}),Object(g.jsx)("td",{style:{width:"5%",textAlign:"right"},children:R})]})]})}),Object(g.jsxs)(O.a,{type:"flex",justify:"center",className:"px-3 bg-white mh-page",children:[Object(g.jsx)(u.a,{to:"/",style:{margin:"10px"},children:"Prices"}),Object(g.jsx)(u.a,{to:"/orders",style:{margin:"10px"},children:"Place Orders"}),Object(g.jsx)(u.a,{to:"/statement",style:{margin:"10px"},children:"Statement"}),Object(g.jsx)(u.a,{to:"/portfolio",style:{margin:"10px"},children:"Portfolio"})]}),Object(g.jsx)(x.b,{exact:!0,path:"/",component:w}),Object(g.jsx)(x.b,{exact:!0,path:"/orders",component:v}),Object(g.jsx)(x.b,{exact:!0,path:"/statement",render:function(t){return Object(g.jsx)(A,{profile:e})}}),Object(g.jsx)(x.b,{exact:!0,path:"/portfolio",render:function(t){return Object(g.jsx)(T,{profile:e})}})]}):Object(g.jsx)(O.a,{type:"flex",width:"100%",justify:"center",className:"px-3 bg-white mh-page",style:{minHeight:"100vh"},children:Object(g.jsx)(p.a,{layout:"vertical",onSubmit:function(e){e.preventDefault(),t()},children:Object(g.jsxs)("div",{style:{justify:"center"},children:[Object(g.jsx)(F,{label:"UserName",children:Object(g.jsx)(m.a,{prefix:Object(g.jsx)(D.a,{size:16,strokeWidth:1,style:{color:"rgba(0,0,0,.25)"}}),type:"text",placeholder:"UserName",onChange:function(e){return I(e.target.value)}})}),Object(g.jsx)(F,{label:"Password",children:Object(g.jsx)(m.a,{prefix:Object(g.jsx)(N.a,{size:16,strokeWidth:1,style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",onChange:function(e){return Z(e.target.value)}})}),Object(g.jsx)(y.a,{loading:l,type:"primary",onClick:function(e){e.preventDefault(),t()},children:"Login"})]})})})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,516)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("stockmarket")),J()}},[[506,1,2]]]);
//# sourceMappingURL=main.49e3067d.chunk.js.map